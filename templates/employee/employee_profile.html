{% extends "common/layout_base.html" %}
{% block page_title %}My Profile{% endblock %}

{% block content %}

<style>
:root {
  --card-bg: #f8fafc;
  --card-border: #e2e8f0;
  --accent-blue: #2563eb;
}

.profile-card-wrap {
  max-width: 360px;
  margin: 0 auto;
}


.profile-card {
  background: var(--card-bg);
  border: 1px solid var(--card-border);
  border-radius: 1.75rem;
  padding: 2rem 1.75rem;
  text-align: center;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.profile-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 18px 40px -18px rgba(15, 23, 42, 0.25);
}

.avatar-large {
  width: 96px;
  height: 96px;
  margin: 0 auto 1rem;
  background: linear-gradient(135deg, #3b82f6, #1d4ed8);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 2.25rem;
  font-weight: 800;
  color: white;
  border-radius: 2rem;
}

.pill-row {
  background: white;
  border: 1px solid #e5e7eb;
  border-radius: 999px;
  padding: 0.45rem 0.9rem;
  display: flex;
  align-items: center;
  justify-content: space-between;
  font-size: 0.75rem;
  font-weight: 700;
  color: #0f172a;
}

.pill-label {
  color: #94a3b8;
  font-size: 0.6rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  font-weight: 800;
}
</style>

<div class="profile-card-wrap p-4">
  <a href="/employee/profile/details" class="block profile-card">
    {% if user.photo_blob %}
      <img src="/employee/photo/{{ user.employee_id }}" alt="{{ user.name }}" class="avatar-large object-cover" />
    {% elif user.photo_path %}
      <img src="{{ user.photo_path }}" alt="{{ user.name }}" class="avatar-large object-cover" />
    {% else %}
      <div class="avatar-large">{{ user.name[0] }}</div>
    {% endif %}
    <div class="text-lg font-black text-slate-900">{{ user.name }}</div>
    <div class="text-sm font-black text-blue-600 uppercase tracking-widest mt-1">{{ user.role|default('Staff') }}</div>

    <div class="mt-6 space-y-3">
      <div class="pill-row">
        <span class="pill-label">Employee ID</span>
        <span>{{ user.employee_id }}</span>
      </div>
      <div class="pill-row">
        <span class="pill-label">Department</span>
        <span>{{ user.department or '-' }}</span>
      </div>
      <div class="pill-row">
        <span class="pill-label">RFID Tag</span>
        <span>{{ user.rfid_tag or '-' }}</span>
      </div>
    </div>
  </a>

  <!-- <form method="post" action="/employee/profile/update" class="mt-6 bg-white border border-slate-200 rounded-2xl p-4">
    <div class="text-[10px] font-black uppercase tracking-widest text-slate-400">Quick Update</div>
    <div class="mt-3">
      <label class="pill-label" for="mobileNumber">Mobile Number</label>
      <input id="mobileNumber" name="phone" type="text" value="{{ user.phone }}" class="w-full mt-2 px-4 py-2 rounded-xl border border-slate-200 text-sm font-semibold text-slate-700" />
      <input type="hidden" name="email" value="{{ user.email }}" />
      <input type="hidden" name="address" value="{{ user.address }}" />
    </div>
    <div class="mt-4 flex justify-end">
      <button type="submit" class="px-4 py-2 rounded-xl bg-slate-900 text-white text-xs font-bold uppercase tracking-widest hover:bg-slate-800">
        Save
      </button>
    </div>
  </form> -->

  <div class="mt-4 text-center text-xs text-slate-500">
    Tap the card to view your full employee details.
  </div>
</div>

{% endblock %}