<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Login | TeamSync</title>

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    :root{
      --bg: linear-gradient(180deg,#eef2ff,#f8fafc);
      --panel: rgba(255,255,255,0.10);
      --glass-border: rgba(255,255,255,0.18);
      --text: #021023;
      --muted: rgba(2,16,35,0.55);
      --accent: #06b6d4;
      --glass-blur: 22px;
      --shadow: 0 30px 70px rgba(2,6,23,0.12);
      --placeholder: rgba(2,16,35,0.35);
    }

    [data-theme="dark"]{
      --bg: linear-gradient(180deg,#0b1220,#071018);
      --panel: rgba(255,255,255,0.02);
      --glass-border: rgba(255,255,255,0.04);
      --text: #c9d1d9;
      --muted: #8b949e;
      --accent: #58a6ff;
      --glass-blur: 12px;
      --shadow: 0 30px 70px rgba(2,6,23,0.6);
      --placeholder: rgba(201,209,217,0.25);
    }

    html,body{
      height:100%;
      margin:0;
      font-family: Inter, ui-sans-serif, system-ui;
      background: var(--bg);
      display:flex;
      align-items:center;
      justify-content:center;
      padding:20px;
      color:var(--text);
    }

    .glass{
      width:100%;
      max-width:460px;
      padding:32px;
      border-radius:14px;
      background:var(--panel);
      border:1px solid var(--glass-border);
      backdrop-filter: blur(var(--glass-blur));
      box-shadow: var(--shadow);
      transition: transform .2s ease;
    }
    .glass:hover{ transform: translateY(-6px); }

    label{ font-size:13px; color:var(--muted); }
    input{
      width:100%;
      padding:12px 14px;
      border-radius:10px;
      border:1px solid var(--glass-border);
      background:transparent;
      color:var(--text);
      outline:none;
    }
    input::placeholder{ color:var(--placeholder); }

    .accent-btn{
      width:100%;
      padding:12px;
      border-radius:10px;
      font-weight:600;
      background:linear-gradient(90deg,var(--accent),#0ea5a4);
      color:#022;
    }

    .brand{
      width:56px;
      height:56px;
      border-radius:12px;
      background:linear-gradient(90deg,#06b6d4,#0ea5a4);
      color:white;
      display:flex;
      align-items:center;
      justify-content:center;
      font-weight:800;
      font-size:20px;
      margin:0 auto;
    }

    .themeBtn{
      position:fixed;
      top:16px;
      right:16px;
      padding:8px 12px;
      border-radius:10px;
      background:var(--panel);
      border:1px solid var(--glass-border);
      cursor:pointer;
      font-size:13px;
      color:var(--muted);
      backdrop-filter: blur(8px);
    }
  </style>
</head>

<body>

  <!-- Theme Toggle -->
  <button id="themeToggle" class="themeBtn">Toggle Theme</button>

  <!-- Login Card -->
  <div class="glass">
    <div class="text-center mb-6">
      <div class="brand">TS</div>
      <h1 class="mt-3 text-xl font-bold">TeamSync</h1>
      <p class="text-sm text-gray-400">Sign in to your workspace</p>
    </div>

    <form method="post" action="/login" class="space-y-4">
      <div>
        <label>Employee ID</label>
        <input name="username" placeholder="EMP001" required autocomplete="username">
      </div>

      <div>
        <label>Password</label>
        <input type="password" name="password" placeholder="••••••••" required autocomplete="current-password">
      </div>

      {% if error %}
        <p class="text-red-400 text-sm text-center">{{ error }}</p>
      {% endif %}

      <button type="submit" class="accent-btn">Sign in</button>
    </form>

    <p class="text-center text-xs mt-6 text-gray-400">
      © {{ current_year if current_year else '' }} TeamSync
    </p>
  </div>

  <!-- Theme Script -->
  <script>
    const root = document.documentElement;
    const btn = document.getElementById("themeToggle");

    let theme = localStorage.getItem("ts_theme") || "light";
    root.setAttribute("data-theme", theme);

    btn.onclick = () => {
      theme = theme === "dark" ? "light" : "dark";
      root.setAttribute("data-theme", theme);
      localStorage.setItem("ts_theme", theme);
    };
  </script>

</body>
</html>
