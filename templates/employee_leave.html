{% extends "base.html" %}
{% block content %}
<div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
    <div class="neo-card p-6">
        <h3 class="text-xl font-bold mb-4">Apply for Leave</h3>
        <form action="/employee/leave/apply" method="POST" class="space-y-4">
            <div>
                <label class="text-xs font-bold ml-2">Start Date</label>
                <input type="date" name="start_date" required class="neo-inset w-full px-4 py-2 outline-none">
            </div>
            <div>
                <label class="text-xs font-bold ml-2">End Date</label>
                <input type="date" name="end_date" required class="neo-inset w-full px-4 py-2 outline-none">
            </div>
            <div>
                <label class="text-xs font-bold ml-2">Reason</label>
                <textarea name="reason" rows="3" required class="neo-inset w-full px-4 py-2 outline-none"></textarea>
            </div>
            <button type="submit" class="neo-btn w-full py-2 text-blue-600 font-bold">Submit Request</button>
        </form>
    </div>

    <div class="lg:col-span-2 space-y-4">
        <h3 class="text-xl font-bold text-gray-700">My History</h3>
        {% for leave in leaves %}
        <div class="neo-card p-4 flex justify-between items-center">
            <div>
                <div class="font-bold text-gray-700">{{ leave.reason }}</div>
                <div class="text-sm text-gray-500">{{ leave.start_date }} - {{ leave.end_date }}</div>
            </div>
            <span class="px-3 py-1 rounded-full text-xs font-bold 
                {% if leave.status == 'Approved' %}bg-green-100 text-green-600{% elif leave.status == 'Rejected' %}bg-red-100 text-red-600{% else %}bg-yellow-100 text-yellow-600{% endif %}">
                {{ leave.status }}
            </span>
        </div>
        {% else %}
        <p class="text-gray-400">No leave history.</p>
        {% endfor %}
    </div>
</div>
{% endblock %}