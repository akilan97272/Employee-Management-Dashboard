{% extends "base.html" %}
{% block content %}
<h2 class="text-2xl font-bold text-gray-700 mb-6">Leave Requests</h2>
<div class="grid gap-4">
    {% for req in pending %}
    <div class="neo-card p-5 flex flex-col md:flex-row justify-between items-start md:items-center">
        <div class="mb-4 md:mb-0">
            <div class="font-bold text-lg">Employee ID: {{ req.employee_id }}</div>
            <div class="text-sm text-gray-600 mt-1">
                {{ req.start_date }} <span class="text-gray-400">to</span> {{ req.end_date }}
            </div>
            <div class="text-sm italic text-gray-500 mt-1">"{{ req.reason }}"</div>
        </div>
        
        <div class="flex items-center space-x-4">
            <span class="text-sm font-bold uppercase 
                {% if req.status == 'Approved' %}text-green-500{% elif req.status == 'Rejected' %}text-red-500{% else %}text-yellow-500{% endif %}">
                {{ req.status }}
            </span>
            
            {% if req.status == 'Pending' %}
            <form action="/admin/leave/update" method="POST" class="flex space-x-2">
                <input type="hidden" name="leave_id" value="{{ req.id }}">
                <button name="action" value="approve" class="neo-btn w-8 h-8 flex items-center justify-center text-green-500" title="Approve">
                    <i class="fas fa-check"></i>
                </button>
                <button name="action" value="reject" class="neo-btn w-8 h-8 flex items-center justify-center text-red-500" title="Reject">
                    <i class="fas fa-times"></i>
                </button>
            </form>
            {% endif %}
        </div>
    </div>
    {% else %}
    <p class="text-gray-400">No leave requests found.</p>
    {% endfor %}
</div>
{% endblock %}