{% extends "layout_base.html" %}
{% block sidebar %}{% include "sidebar_admin.html" %}{% endblock %}
{% block page_title %}Leave Approvals{% endblock %}

{% block content %}
<div class="glass p-6 rounded-xl space-y-6">
  
  <table class="w-full text-sm">
    <tr class="border-b border-cyan-600/40">
      <th>Employee</th><th>Dates</th><th>Reason</th><th>Status</th><th>Action</th>
    </tr>

    {% for l in pending %}
    <tr class="border-b border-white/10">
      <td>{{ l.user.name }}</td>
      <td>{{ l.start_date }} â†’ {{ l.end_date }}</td>
      <td>{{ l.reason }}</td>
      <td>{{ l.status }}</td>

      <td class="flex gap-2">
        <form method="post" action="/admin/leave/update">
          <input type="hidden" name="leave_id" value="{{ l.id }}">
          <input type="hidden" name="action" value="approve">
          <button class="bg-green-600 text-white px-3 py-1 rounded text-xs">Approve</button>
        </form>

        <form method="post" action="/admin/leave/update">
          <input type="hidden" name="leave_id" value="{{ l.id }}">
          <input type="hidden" name="action" value="reject">
          <button class="bg-red-600 text-white px-3 py-1 rounded text-xs">Reject</button>
        </form>
      </td>
    </tr>
    {% endfor %}
  </table>

</div>
{% endblock %}
