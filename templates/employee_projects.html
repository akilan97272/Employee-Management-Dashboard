{% extends "layout_base.html" %}
{% block title %}My Projects â€” TeamSync{% endblock %}
{% block sidebar %}{% include "sidebar_employee.html" %}{% endblock %}
{% block page_title %}My Assigned Projects{% endblock %}

{% block content %}

{% if projects|length == 0 %}
<div class="muted">No projects assigned to you yet.</div>
{% endif %}

<div class="space-y-6">
  {% for pid, data in projects.items() %}
  <div class="glass p-4 rounded-lg">
    <div class="flex justify-between">
      <h3 class="text-xl font-semibold">{{ data.project.name }}</h3>
      <span class="muted">{{ data.project.deadline }}</span>
    </div>

    <p class="muted mt-1">{{ data.project.description }}</p>

    <div class="mt-3">
      <h4 class="font-medium mb-2">Your Tasks</h4>
      <ul class="space-y-2">
        {% for t in data.tasks %}
          <li class="p-2 rounded bg-white/5 flex justify-between">
            <span>{{ t.task_name }}</span>
            {% if t.status == "completed" %}
              <span class="text-green-400 text-sm">Completed</span>
            {% else %}
              <span class="text-yellow-300 text-sm">Pending</span>
            {% endif %}
          </li>
        {% endfor %}
      </ul>
    </div>

  </div>
  {% endfor %}
</div>

{% endblock %}
